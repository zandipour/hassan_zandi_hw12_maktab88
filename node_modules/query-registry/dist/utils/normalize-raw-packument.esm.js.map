{"version":3,"file":"normalize-raw-packument.esm.js","sources":["../../src/utils/normalize-raw-packument.ts"],"sourcesContent":["import { Packument } from '../types/packument';\nimport { RawPackument } from '../types/raw-packument';\nimport { normalizeRawLicense } from './normalize-raw-license';\nimport { normalizeRawRepository } from './normalize-raw-repository';\n\nexport function normalizeRawPackument({\n    rawPackument,\n}: {\n    rawPackument: RawPackument;\n}): Packument {\n    const {\n        _id: id,\n        'dist-tags': distTags,\n        time,\n        license: rawLicense,\n        repository: rawRepository,\n    } = rawPackument;\n    const license = normalizeRawLicense({ rawLicense });\n    const gitRepository = normalizeRawRepository({ rawRepository });\n    const versionsToTimestamps = Object.fromEntries(\n        Object.entries(time).filter(([key]) => {\n            return !['created', 'modified'].includes(key);\n        })\n    );\n\n    return {\n        ...rawPackument,\n        id,\n        distTags,\n        versionsToTimestamps,\n        license,\n        gitRepository,\n    };\n}\n"],"names":["normalizeRawPackument","rawPackument","_id","id","distTags","time","license","rawLicense","repository","rawRepository","normalizeRawLicense","gitRepository","normalizeRawRepository","versionsToTimestamps","Object","fromEntries","entries","filter","key","includes"],"mappings":";;;AAKgB,SAAAA,qBAAA,CAAsB;AAClCC,EAAAA,YAAAA;AADkC,CAAtB,EAIf;EACG,MAAM;AACFC,IAAAA,GAAG,EAAEC,EADH;AAEF,IAAA,WAAA,EAAaC,QAFX;IAGFC,IAHE;AAIFC,IAAAA,OAAO,EAAEC,UAJP;AAKFC,IAAAA,UAAU,EAAEC,aAAAA;AALV,GAAA,GAMFR,YANJ,CAAA;EAOA,MAAMK,OAAO,GAAGI,mBAAmB,CAAC;AAAEH,IAAAA,UAAAA;AAAF,GAAD,CAAnC,CAAA;EACA,MAAMI,aAAa,GAAGC,sBAAsB,CAAC;AAAEH,IAAAA,aAAAA;AAAF,GAAD,CAA5C,CAAA;AACA,EAAA,MAAMI,oBAAoB,GAAGC,MAAM,CAACC,WAAP,CACzBD,MAAM,CAACE,OAAP,CAAeX,IAAf,EAAqBY,MAArB,CAA4B,CAAC,CAACC,GAAD,CAAD,KAAU;IAClC,OAAO,CAAC,CAAC,SAAD,EAAY,UAAZ,CAAwBC,CAAAA,QAAxB,CAAiCD,GAAjC,CAAR,CAAA;AACH,GAFD,CADyB,CAA7B,CAAA;EAMA,OAAO,EACH,GAAGjB,YADA;IAEHE,EAFG;IAGHC,QAHG;IAIHS,oBAJG;IAKHP,OALG;AAMHK,IAAAA,aAAAA;GANJ,CAAA;AAQH;;;;"}