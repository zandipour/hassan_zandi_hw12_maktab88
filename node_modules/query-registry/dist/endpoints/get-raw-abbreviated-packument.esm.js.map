{"version":3,"file":"get-raw-abbreviated-packument.esm.js","sources":["../../src/endpoints/get-raw-abbreviated-packument.ts"],"sourcesContent":["import { RawAbbreviatedPackument } from '../types/raw-abbreviated-packument';\nimport { assertValidPackageName } from '../utils/assert-valid-package-name';\nimport { fetchFromRegistry } from '../utils/fetch-from-registry';\n\n/**\n * `getRawAbbreviatedPackument` returns the abbreviated packument (package document)\n * containing only the metadata necessary to install a package present on the registry.\n *\n * Note: the abbreviated packument is returned as retrieved from the registry.\n *\n * @param name - package name\n * @param registry - URL of the registry (default: npm registry)\n * @param mirrors - URLs of the registry mirrors (default: npm registry mirrors)\n * @param cached - accept cached responses (default: `true`)\n *\n * @example\n * Get the abbreviated packument for package `query-registry` from the npm registry:\n *\n * ```typescript\n * import { getRawAbbreviatedPackument } from 'query-registry';\n *\n * (async () => {\n *     const packument = await getRawAbbreviatedPackument({ name: 'query-registry' });\n *\n *     // Output: 'query-registry'\n *     console.log(packument.name);\n * })();\n * ```\n *\n * @see {@link RawAbbreviatedPackument}\n * @see {@link npmRegistry}\n * @see {@link npmRegistryMirrors}\n */\nexport async function getRawAbbreviatedPackument({\n    name,\n    registry,\n    mirrors,\n    cached,\n}: {\n    name: string;\n    registry?: string;\n    mirrors?: string[];\n    cached?: boolean;\n}): Promise<RawAbbreviatedPackument> {\n    assertValidPackageName({ name });\n\n    const endpoint = `/${name}`;\n    const headers = { Accept: 'application/vnd.npm.install-v1+json' };\n    return fetchFromRegistry({ endpoint, headers, registry, mirrors, cached });\n}\n"],"names":["getRawAbbreviatedPackument","name","registry","mirrors","cached","assertValidPackageName","endpoint","headers","Accept","fetchFromRegistry"],"mappings":";;;AAIA;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4BG;;AACI,eAAeA,0BAAf,CAA0C;EAC7CC,IAD6C;EAE7CC,QAF6C;EAG7CC,OAH6C;AAI7CC,EAAAA,MAAAA;AAJ6C,CAA1C,EAUN;AACGC,EAAAA,sBAAsB,CAAC;AAAEJ,IAAAA,IAAAA;AAAF,GAAD,CAAtB,CAAA;AAEA,EAAA,MAAMK,QAAQ,GAAO,CAAAL,CAAAA,EAAAA,KAArB,CAAA,CAAA;AACA,EAAA,MAAMM,OAAO,GAAG;AAAEC,IAAAA,MAAM,EAAE,qCAAA;GAA1B,CAAA;AACA,EAAA,OAAOC,iBAAiB,CAAC;IAAEH,QAAF;IAAYC,OAAZ;IAAqBL,QAArB;IAA+BC,OAA/B;AAAwCC,IAAAA,MAAAA;AAAxC,GAAD,CAAxB,CAAA;AACH;;;;"}